{"ast":null,"code":"import{useState}from'react';import{useNavigate}from'react-router-dom';import axios from'axios';import toast,{Toaster}from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Register=_ref=>{let{setUser}=_ref;const[name,setName]=useState('');const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[role,setRole]=useState('applicant');const[error,setError]=useState('');const navigate=useNavigate();const handleSubmit=async e=>{e.preventDefault();setError('');// Clear previous errors\ntry{const res=await axios.post('https://talenthub-backend-bhrj.onrender.com/auth/register',{name,email,password,role});console.log('API Response:',res);// Log response for debugging\n// Check if response contains userId\nif(!res.data||!res.data.userId){throw new Error('No userId received from server. Response: '+JSON.stringify(res.data));}// Build user object without token\nconst userData={id:res.data.userId,email,username:name,role};// Save to state and localStorage\nsetUser(userData);localStorage.setItem('user',JSON.stringify(userData));// Show success toast\ntoast.success('Registration successful! Welcome to TalentHub!',{icon:'üéâ'});navigate('/');}catch(err){var _err$response,_err$response$data;console.error('Registration error:',err);const errorMessage=((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||err.message||'Registration failed. Please try again.';setError(errorMessage);toast.error(errorMessage,{icon:'‚ùå'});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen flex flex-col md:flex-row\",children:[/*#__PURE__*/_jsx(Toaster,{position:\"top-right\",reverseOrder:false,toastOptions:{style:{maxWidth:'400px',padding:'16px',borderRadius:'8px',boxShadow:'0 4px 12px rgba(0, 0, 0, 0.15)',fontSize:'16px',fontWeight:'500'},success:{style:{background:'#10B981',color:'#ffffff',border:'1px solid #059669'},iconTheme:{primary:'#ffffff',secondary:'#10B981'}},error:{style:{background:'#EF4444',color:'#ffffff',border:'1px solid #B91C1C'},iconTheme:{primary:'#ffffff',secondary:'#EF4444'}}}}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full md:w-1/2 bg-cover bg-center order-first md:order-last h-64 md:h-auto\",style:{backgroundImage:\"url('https://images.unsplash.com/photo-1522202176988-66273c2fd55f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1400&q=80')\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"h-full w-full bg-gradient-to-l from-primary/80 via-primary/60 to-transparent flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-white text-3xl md:text-4xl font-bold p-8 text-center\",children:\"Build Your Career or Find Talent\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full md:w-1/2 flex items-center justify-center bg-white p-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md w-full space-y-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold text-primary mb-2\",children:\"Create Account\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mb-6\",children:\"Join TalentHub and get started\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Full Name\",value:name,onChange:e=>setName(e.target.value),className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-secondary focus:outline-none transition\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",value:email,onChange:e=>setEmail(e.target.value),className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-secondary focus:outline-none transition\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",value:password,onChange:e=>setPassword(e.target.value),className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-secondary focus:outline-none transition\",required:true}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsxs(\"select\",{value:role,onChange:e=>setRole(e.target.value),className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-secondary focus:outline-none transition bg-white text-gray-700 appearance-none pr-10\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"applicant\",children:\"Applicant\"}),/*#__PURE__*/_jsx(\"option\",{value:\"employer\",children:\"Employer\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"pointer-events-none absolute inset-y-0 right-3 flex items-center\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 text-gray-500\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M19 9l-7 7-7-7\"})})})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full py-3 bg-secondary text-white font-semibold rounded-lg shadow-lg hover:bg-green-700 transition\",children:\"Register\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[\"Already have an account?\",' ',/*#__PURE__*/_jsx(\"a\",{href:\"/login\",className:\"text-secondary font-semibold hover:underline\",children:\"Login\"})]})]})})]});};export default Register;","map":{"version":3,"names":["useState","useNavigate","axios","toast","Toaster","jsx","_jsx","jsxs","_jsxs","Register","_ref","setUser","name","setName","email","setEmail","password","setPassword","role","setRole","error","setError","navigate","handleSubmit","e","preventDefault","res","post","console","log","data","userId","Error","JSON","stringify","userData","id","username","localStorage","setItem","success","icon","err","_err$response","_err$response$data","errorMessage","response","message","className","children","position","reverseOrder","toastOptions","style","maxWidth","padding","borderRadius","boxShadow","fontSize","fontWeight","background","color","border","iconTheme","primary","secondary","backgroundImage","onSubmit","type","placeholder","value","onChange","target","required","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","href"],"sources":["E:/myproject/TalentHub_full/frontend/src/pages/Register.jsx"],"sourcesContent":["import { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport toast, { Toaster } from 'react-hot-toast';\n\nconst Register = ({ setUser }) => {\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [role, setRole] = useState('applicant');\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError(''); // Clear previous errors\n    try {\n      const res = await axios.post('https://talenthub-backend-bhrj.onrender.com/auth/register', { name, email, password, role });\n      console.log('API Response:', res); // Log response for debugging\n\n      // Check if response contains userId\n      if (!res.data || !res.data.userId) {\n        throw new Error('No userId received from server. Response: ' + JSON.stringify(res.data));\n      }\n\n      // Build user object without token\n      const userData = {\n        id: res.data.userId,\n        email,\n        username: name,\n        role,\n      };\n\n      // Save to state and localStorage\n      setUser(userData);\n      localStorage.setItem('user', JSON.stringify(userData));\n\n      // Show success toast\n      toast.success('Registration successful! Welcome to TalentHub!', {\n        icon: 'üéâ',\n      });\n      navigate('/');\n    } catch (err) {\n      console.error('Registration error:', err);\n      const errorMessage = err.response?.data?.message || err.message || 'Registration failed. Please try again.';\n      setError(errorMessage);\n      toast.error(errorMessage, {\n        icon: '‚ùå',\n      });\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex flex-col md:flex-row\">\n      {/* Toaster component with custom styling */}\n      <Toaster\n        position=\"top-right\"\n        reverseOrder={false}\n        toastOptions={{\n          style: {\n            maxWidth: '400px',\n            padding: '16px',\n            borderRadius: '8px',\n            boxShadow: '0 4px 12px rgba(0, 0, 0, 0.15)',\n            fontSize: '16px',\n            fontWeight: '500',\n          },\n          success: {\n            style: {\n              background: '#10B981',\n              color: '#ffffff',\n              border: '1px solid #059669',\n            },\n            iconTheme: {\n              primary: '#ffffff',\n              secondary: '#10B981',\n            },\n          },\n          error: {\n            style: {\n              background: '#EF4444',\n              color: '#ffffff',\n              border: '1px solid #B91C1C',\n            },\n            iconTheme: {\n              primary: '#ffffff',\n              secondary: '#EF4444',\n            },\n          },\n        }}\n      />\n\n      {/* Right Side - Image */}\n      <div\n        className=\"w-full md:w-1/2 bg-cover bg-center order-first md:order-last h-64 md:h-auto\"\n        style={{\n          backgroundImage:\n            \"url('https://images.unsplash.com/photo-1522202176988-66273c2fd55f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1400&q=80')\",\n        }}\n      >\n        <div className=\"h-full w-full bg-gradient-to-l from-primary/80 via-primary/60 to-transparent flex items-center justify-center\">\n          <h2 className=\"text-white text-3xl md:text-4xl font-bold p-8 text-center\">\n            Build Your Career or Find Talent\n          </h2>\n        </div>\n      </div>\n\n      {/* Left Side - Form */}\n      <div className=\"w-full md:w-1/2 flex items-center justify-center bg-white p-8\">\n        <div className=\"max-w-md w-full space-y-6\">\n          <h1 className=\"text-4xl font-bold text-primary mb-2\">Create Account</h1>\n          <p className=\"text-gray-500 mb-6\">Join TalentHub and get started</p>\n          {error && <p className=\"text-red-500\">{error}</p>}\n\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <input\n              type=\"text\"\n              placeholder=\"Full Name\"\n              value={name}\n              onChange={(e) => setName(e.target.value)}\n              className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-secondary focus:outline-none transition\"\n              required\n            />\n            <input\n              type=\"email\"\n              placeholder=\"Email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-secondary focus:outline-none transition\"\n              required\n            />\n            <input\n              type=\"password\"\n              placeholder=\"Password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-secondary focus:outline-none transition\"\n              required\n            />\n\n            {/* Modern Dropdown */}\n            <div className=\"relative\">\n              <select\n                value={role}\n                onChange={(e) => setRole(e.target.value)}\n                className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-secondary focus:outline-none transition bg-white text-gray-700 appearance-none pr-10\"\n              >\n                <option value=\"applicant\">Applicant</option>\n                <option value=\"employer\">Employer</option>\n              </select>\n              <div className=\"pointer-events-none absolute inset-y-0 right-3 flex items-center\">\n                <svg\n                  className=\"w-4 h-4 text-gray-500\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M19 9l-7 7-7-7\" />\n                </svg>\n              </div>\n            </div>\n\n            <button\n              type=\"submit\"\n              className=\"w-full py-3 bg-secondary text-white font-semibold rounded-lg shadow-lg hover:bg-green-700 transition\"\n            >\n              Register\n            </button>\n          </form>\n\n          <p className=\"text-sm text-gray-500\">\n            Already have an account?{' '}\n            <a href=\"/login\" className=\"text-secondary font-semibold hover:underline\">\n              Login\n            </a>\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Register;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}