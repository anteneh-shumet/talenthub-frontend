{"ast":null,"code":"import{useState}from'react';import{useNavigate}from'react-router-dom';import axios from'axios';import toast,{Toaster}from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AddJob=_ref=>{let{user}=_ref;const[title,setTitle]=useState('');const[description,setDescription]=useState('');const[error,setError]=useState('');const navigate=useNavigate();if(!user||user.role!=='employer'){navigate('/');return null;}const handleSubmit=async e=>{e.preventDefault();setError('');// Clear previous errors\ntry{await axios.post('https://talenthub-backend-bhrj.onrender.com/jobs',{title,description},{headers:{Authorization:\"Bearer \".concat(user.token)}});// Show success toast\ntoast.success('Job added successfully!',{icon:'üéâ'});navigate('/');}catch(err){var _err$response,_err$response$data;console.error('Add job error:',err);const errorMessage=((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Failed to add job';setError(errorMessage);// Show error toast\ntoast.error(errorMessage,{icon:'‚ùå'});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md mx-auto\",children:[/*#__PURE__*/_jsx(Toaster,{position:\"top-right\",reverseOrder:false,toastOptions:{style:{maxWidth:'400px',padding:'16px',borderRadius:'8px',boxShadow:'0 4px 12px rgba(0, 0, 0, 0.15)',fontSize:'16px',fontWeight:'500'},success:{style:{background:'#10B981',color:'#ffffff',border:'1px solid #059669'},iconTheme:{primary:'#ffffff',secondary:'#10B981'}},error:{style:{background:'#EF4444',color:'#ffffff',border:'1px solid #B91C1C'},iconTheme:{primary:'#ffffff',secondary:'#EF4444'}}}}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold mb-6 text-primary\",children:\"Add New Job\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 mb-4\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Job Title\",value:title,onChange:e=>setTitle(e.target.value),className:\"w-full p-2 border border-gray-300 rounded\",required:true}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Job Description\",value:description,onChange:e=>setDescription(e.target.value),className:\"w-full p-2 border border-gray-300 rounded h-32\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full bg-secondary text-white py-2 rounded hover:bg-green-700\",children:\"Add Job\"})]})]});};export default AddJob;","map":{"version":3,"names":["useState","useNavigate","axios","toast","Toaster","jsx","_jsx","jsxs","_jsxs","AddJob","_ref","user","title","setTitle","description","setDescription","error","setError","navigate","role","handleSubmit","e","preventDefault","post","headers","Authorization","concat","token","success","icon","err","_err$response","_err$response$data","console","errorMessage","response","data","message","className","children","position","reverseOrder","toastOptions","style","maxWidth","padding","borderRadius","boxShadow","fontSize","fontWeight","background","color","border","iconTheme","primary","secondary","onSubmit","type","placeholder","value","onChange","target","required"],"sources":["E:/myproject/TalentHub_full/frontend/src/pages/AddJob.jsx"],"sourcesContent":["import { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport toast, { Toaster } from 'react-hot-toast';\r\n\r\nconst AddJob = ({ user }) => {\r\n  const [title, setTitle] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [error, setError] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  if (!user || user.role !== 'employer') {\r\n    navigate('/');\r\n    return null;\r\n  }\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError(''); // Clear previous errors\r\n    try {\r\n      await axios.post('https://talenthub-backend-bhrj.onrender.com/jobs', { title, description }, {\r\n        headers: { Authorization: `Bearer ${user.token}` }\r\n      });\r\n      // Show success toast\r\n      toast.success('Job added successfully!', {\r\n        icon: 'üéâ',\r\n      });\r\n      navigate('/');\r\n    } catch (err) {\r\n      console.error('Add job error:', err);\r\n      const errorMessage = err.response?.data?.message || 'Failed to add job';\r\n      setError(errorMessage);\r\n      // Show error toast\r\n      toast.error(errorMessage, {\r\n        icon: '‚ùå',\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-md mx-auto\">\r\n      {/* Toaster component with custom styling */}\r\n      <Toaster\r\n        position=\"top-right\"\r\n        reverseOrder={false}\r\n        toastOptions={{\r\n          style: {\r\n            maxWidth: '400px',\r\n            padding: '16px',\r\n            borderRadius: '8px',\r\n            boxShadow: '0 4px 12px rgba(0, 0, 0, 0.15)',\r\n            fontSize: '16px',\r\n            fontWeight: '500',\r\n          },\r\n          success: {\r\n            style: {\r\n              background: '#10B981',\r\n              color: '#ffffff',\r\n              border: '1px solid #059669',\r\n            },\r\n            iconTheme: {\r\n              primary: '#ffffff',\r\n              secondary: '#10B981',\r\n            },\r\n          },\r\n          error: {\r\n            style: {\r\n              background: '#EF4444',\r\n              color: '#ffffff',\r\n              border: '1px solid #B91C1C',\r\n            },\r\n            iconTheme: {\r\n              primary: '#ffffff',\r\n              secondary: '#EF4444',\r\n            },\r\n          },\r\n        }}\r\n      />\r\n      <h1 className=\"text-3xl font-bold mb-6 text-primary\">Add New Job</h1>\r\n      {error && <p className=\"text-red-500 mb-4\">{error}</p>}\r\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Job Title\"\r\n          value={title}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n          className=\"w-full p-2 border border-gray-300 rounded\"\r\n          required\r\n        />\r\n        <textarea\r\n          placeholder=\"Job Description\"\r\n          value={description}\r\n          onChange={(e) => setDescription(e.target.value)}\r\n          className=\"w-full p-2 border border-gray-300 rounded h-32\"\r\n          required\r\n        />\r\n        <button type=\"submit\" className=\"w-full bg-secondary text-white py-2 rounded hover:bg-green-700\">\r\n          Add Job\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddJob;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}