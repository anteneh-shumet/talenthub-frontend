{"ast":null,"code":"import{useState}from'react';import{useNavigate}from'react-router-dom';import axios from'axios';import{jwtDecode}from'jwt-decode';import toast,{Toaster}from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=_ref=>{let{setUser}=_ref;const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[error,setError]=useState('');const navigate=useNavigate();const handleSubmit=async e=>{e.preventDefault();try{const res=await axios.post('https://talenthub-backend-bhrj.onrender.com/auth/login',{email,password});const token=res.data.token;// Save token in localStorage\nlocalStorage.setItem('token',token);// Decode token\nconst decoded=jwtDecode(token);// Build user object for session\nconst userData={id:decoded.id,email:res.data.user.email,username:res.data.user.name,role:decoded.role,token};// Save to state and localStorage\nsetUser(userData);localStorage.setItem('user',JSON.stringify(userData));// Show success toast\ntoast.success('Login successful! Welcome back!',{icon:'üéâ'});navigate('/');}catch(err){var _err$response,_err$response$data;console.error('Login error:',err);const errorMessage=((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Invalid credentials';setError(errorMessage);// Show error toast\ntoast.error(errorMessage,{icon:'‚ùå'});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen flex flex-col md:flex-row\",children:[/*#__PURE__*/_jsx(Toaster,{position:\"top-right\",reverseOrder:false,toastOptions:{style:{maxWidth:'400px',padding:'16px',borderRadius:'8px',boxShadow:'0 4px 12px rgba(0, 0, 0, 0.15)',fontSize:'16px',fontWeight:'500'},success:{style:{background:'#10B981',color:'#ffffff',border:'1px solid #059669'},iconTheme:{primary:'#ffffff',secondary:'#10B981'}},error:{style:{background:'#EF4444',color:'#ffffff',border:'1px solid #B91C1C'},iconTheme:{primary:'#ffffff',secondary:'#EF4444'}}}}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full md:w-1/2 bg-cover bg-center order-first md:order-last h-64 md:h-auto\",style:{backgroundImage:\"url('https://images.unsplash.com/photo-1593642532973-d31b6557fa68?ixlib=rb-4.0.3&auto=format&fit=crop&w=1400&q=80')\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"h-full w-full bg-gradient-to-l from-primary/80 via-primary/60 to-transparent flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-white text-3xl md:text-4xl font-bold p-8 text-center\",children:\"Discover & Connect with Top Talent\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full md:w-1/2 flex items-center justify-center bg-white p-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md w-full space-y-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold text-primary mb-2\",children:\"Welcome Back!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mb-6\",children:\"Login to access your account\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",value:email,onChange:e=>setEmail(e.target.value),className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-secondary focus:outline-none transition\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",value:password,onChange:e=>setPassword(e.target.value),className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-secondary focus:outline-none transition\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full py-3 bg-secondary text-white font-semibold rounded-lg shadow-lg hover:bg-green-700 transition\",children:\"Login\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[\"Don't have an account?\",' ',/*#__PURE__*/_jsx(\"a\",{href:\"/register\",className:\"text-secondary font-semibold hover:underline\",children:\"Register\"})]})]})})]});};export default Login;","map":{"version":3,"names":["useState","useNavigate","axios","jwtDecode","toast","Toaster","jsx","_jsx","jsxs","_jsxs","Login","_ref","setUser","email","setEmail","password","setPassword","error","setError","navigate","handleSubmit","e","preventDefault","res","post","token","data","localStorage","setItem","decoded","userData","id","user","username","name","role","JSON","stringify","success","icon","err","_err$response","_err$response$data","console","errorMessage","response","message","className","children","position","reverseOrder","toastOptions","style","maxWidth","padding","borderRadius","boxShadow","fontSize","fontWeight","background","color","border","iconTheme","primary","secondary","backgroundImage","onSubmit","type","placeholder","value","onChange","target","required","href"],"sources":["E:/myproject/TalentHub_full/frontend/src/pages/Login.jsx"],"sourcesContent":["import { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { jwtDecode } from 'jwt-decode';\nimport toast, { Toaster } from 'react-hot-toast';\n\nconst Login = ({ setUser }) => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const res = await axios.post('https://talenthub-backend-bhrj.onrender.com/auth/login', { email, password });\n      const token = res.data.token;\n\n      // Save token in localStorage\n      localStorage.setItem('token', token);\n\n      // Decode token\n      const decoded = jwtDecode(token);\n\n      // Build user object for session\n      const userData = {\n        id: decoded.id,\n        email: res.data.user.email,\n        username: res.data.user.name,\n        role: decoded.role,\n        token,\n      };\n\n      // Save to state and localStorage\n      setUser(userData);\n      localStorage.setItem('user', JSON.stringify(userData));\n\n      // Show success toast\n      toast.success('Login successful! Welcome back!', {\n        icon: 'üéâ',\n      });\n      navigate('/');\n    } catch (err) {\n      console.error('Login error:', err);\n      const errorMessage = err.response?.data?.message || 'Invalid credentials';\n      setError(errorMessage);\n      // Show error toast\n      toast.error(errorMessage, {\n        icon: '‚ùå',\n      });\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex flex-col md:flex-row\">\n      {/* Toaster component with custom styling */}\n      <Toaster\n        position=\"top-right\"\n        reverseOrder={false}\n        toastOptions={{\n          style: {\n            maxWidth: '400px',\n            padding: '16px',\n            borderRadius: '8px',\n            boxShadow: '0 4px 12px rgba(0, 0, 0, 0.15)',\n            fontSize: '16px',\n            fontWeight: '500',\n          },\n          success: {\n            style: {\n              background: '#10B981',\n              color: '#ffffff',\n              border: '1px solid #059669',\n            },\n            iconTheme: {\n              primary: '#ffffff',\n              secondary: '#10B981',\n            },\n          },\n          error: {\n            style: {\n              background: '#EF4444',\n              color: '#ffffff',\n              border: '1px solid #B91C1C',\n            },\n            iconTheme: {\n              primary: '#ffffff',\n              secondary: '#EF4444',\n            },\n          },\n        }}\n      />\n\n      {/* Right Side - Image */}\n      <div\n        className=\"w-full md:w-1/2 bg-cover bg-center order-first md:order-last h-64 md:h-auto\"\n        style={{\n          backgroundImage:\n            \"url('https://images.unsplash.com/photo-1593642532973-d31b6557fa68?ixlib=rb-4.0.3&auto=format&fit=crop&w=1400&q=80')\",\n        }}\n      >\n        <div className=\"h-full w-full bg-gradient-to-l from-primary/80 via-primary/60 to-transparent flex items-center justify-center\">\n          <h2 className=\"text-white text-3xl md:text-4xl font-bold p-8 text-center\">\n            Discover & Connect with Top Talent\n          </h2>\n        </div>\n      </div>\n\n      {/* Left Side - Form */}\n      <div className=\"w-full md:w-1/2 flex items-center justify-center bg-white p-8\">\n        <div className=\"max-w-md w-full space-y-6\">\n          <h1 className=\"text-4xl font-bold text-primary mb-2\">Welcome Back!</h1>\n          <p className=\"text-gray-500 mb-6\">Login to access your account</p>\n          {error && <p className=\"text-red-500\">{error}</p>}\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <input\n              type=\"email\"\n              placeholder=\"Email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-secondary focus:outline-none transition\"\n              required\n            />\n            <input\n              type=\"password\"\n              placeholder=\"Password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-secondary focus:outline-none transition\"\n              required\n            />\n            <button\n              type=\"submit\"\n              className=\"w-full py-3 bg-secondary text-white font-semibold rounded-lg shadow-lg hover:bg-green-700 transition\"\n            >\n              Login\n            </button>\n          </form>\n          <p className=\"text-sm text-gray-500\">\n            Don't have an account?{' '}\n            <a href=\"/register\" className=\"text-secondary font-semibold hover:underline\">\n              Register\n            </a>\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}